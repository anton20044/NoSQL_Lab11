Лабораторная работа №11 по курсу NoSQL.

Задание:
	- Развернуть Instance ES – желательно в AWS
	- Создать в ES индекс, в нём должно быть обязательное поле text типа string
	- Создать для индекса pattern
	- Добавить в индекс как минимум 3 документа желательно со следующим содержанием:
	- «моя мама мыла посуду а кот жевал сосиски»
	- «рама была отмыта и вылизана котом»
	- «мама мыла раму»
	- Написать запрос нечеткого поиска к этой коллекции документов ко ключу «мама ела сосиски»
	- Расшарить коллекцию postman (желательно сдавать в таком формате)
	- Прислать ссылку на коллекцию

Решение:
 
Инстанс ES развернул в докере, который развернут на виртуальной машине на домашнем гипервизоре. Из-за этого не смогу предоставить доступ к коллекции, прикладываю скриншот.

Создан индекс inx, для которого определен pattern для нечеткого поиска по полю text.


PUT {{host}}/inx
{
    "settings": {
        "analysis": {
            "filter": {
                "ru_stop": {
                    "type": "stop",
                    "stopwords": "_russian_"
                },
                "ru_stemmer": {
                    "type": "stemmer",
                    "language": "russian"
                }
            },
            "analyzer": {
                "my_russian": {
                    "tokenizer": "standard",
                    "filter": [
                        "lowercase",
                        "ru_stop",
                        "ru_stemmer"
                    ]
                }
            }
        }
    },
    "mappings": {
        "properties": {
            "text": {
                "type": "text",
                "analyzer": "my_russian"
            }
        }
    }
} 

Здесь и далее за макросом {{host}} определен адрес докера (https://192.168.50.117:9200).

Добавлено три документа:
1) POST {{host}}/inx/_doc
{
    "text": "моя мама мыла посуду а кот жевал сосиски"
}

2) POST {{host}}/inx/_doc
{
    "text": "рама была отмыта и вылизана котом"
}

3) POST {{host}}/inx/_doc
{
    "text": "мама мыла раму"
}

Проверил что все документы на месте:
GET {{host}}/inx/_search
{
    "query": {
        "match_all": {}
    }
}

Выполнил запрос с нечетким поиском (результат см на рисунке 1)
GET {{host}}/inx/_search
{
    "query": {
        "match": {
            "text": "мама ела сосиски"
        }
    }
}